/**
 * Apple Human Interface Guidelines Theme Pack
 * Pixel-perfect recreation of Apple's design system
 * 
 * Based on:
 * - iOS/iPadOS design language
 * - macOS Big Sur+ design system
 * - SF Symbols integration
 * - Apple vibrancy effects
 * 
 * Usage:
 *   <native-select theme="apple"></native-select>
 *   OR
 *   import '@native-select/core/themes/apple.css';
 */

:host([theme="apple"]),
native-select[theme="apple"] {
  /* ============================================
     APPLE HIG - COLOR SYSTEM
     ============================================ */
  
  /* --- System Colors (iOS/macOS) --- */
  --ns-color-primary: #007aff;         /* Blue */
  --ns-color-primary-hover: #0051d5;
  --ns-color-primary-active: #004fc4;
  --ns-color-primary-rgb: 0, 122, 255;
  
  /* --- Secondary System Colors --- */
  --ns-color-secondary: #8e8e93;       /* Gray */
  --ns-color-secondary-hover: #7c7c80;
  --ns-color-secondary-active: #636366;
  
  /* --- Semantic Colors --- */
  --ns-color-success: #34c759;         /* Green */
  --ns-color-success-hover: #30b350;
  --ns-color-success-active: #28a745;
  
  --ns-color-warning: #ff9500;         /* Orange */
  --ns-color-warning-hover: #f08c00;
  --ns-color-warning-active: #e38200;
  
  --ns-color-error: #ff3b30;           /* Red */
  --ns-color-error-hover: #ff2d20;
  --ns-color-error-active: #d70015;
  
  --ns-color-info: #5ac8fa;            /* Light Blue */
  
  /* --- Label Colors (Text) --- */
  --ns-color-label: #000000;
  --ns-color-label-secondary: rgba(60, 60, 67, 0.6);
  --ns-color-label-tertiary: rgba(60, 60, 67, 0.3);
  --ns-color-label-quaternary: rgba(60, 60, 67, 0.18);
  
  --ns-color-text-primary: var(--ns-color-label);
  --ns-color-text-secondary: var(--ns-color-label-secondary);
  --ns-color-text-tertiary: var(--ns-color-label-tertiary);
  --ns-color-text-disabled: var(--ns-color-label-quaternary);
  
  /* --- Fill Colors (Backgrounds) --- */
  --ns-color-fill: rgba(120, 120, 128, 0.2);
  --ns-color-fill-secondary: rgba(120, 120, 128, 0.16);
  --ns-color-fill-tertiary: rgba(118, 118, 128, 0.12);
  --ns-color-fill-quaternary: rgba(116, 116, 128, 0.08);
  
  /* --- Background Colors --- */
  --ns-color-background: #ffffff;
  --ns-color-background-rgb: 255, 255, 255;
  --ns-color-background-secondary: #f2f2f7;
  --ns-color-background-tertiary: #ffffff;
  
  --ns-color-surface: var(--ns-color-background-secondary);
  --ns-color-surface-hover: rgba(120, 120, 128, 0.08);
  --ns-color-surface-active: rgba(120, 120, 128, 0.12);
  
  /* --- Grouped Background (iOS style) --- */
  --ns-grouped-background: #f2f2f7;
  --ns-grouped-background-secondary: #ffffff;
  --ns-grouped-background-tertiary: #f2f2f7;
  
  /* --- Separator Colors --- */
  --ns-color-separator: rgba(60, 60, 67, 0.29);
  --ns-color-separator-opaque: #c6c6c8;
  
  --ns-color-border: var(--ns-color-separator);
  --ns-color-border-hover: rgba(60, 60, 67, 0.36);
  --ns-color-border-active: var(--ns-color-primary);
  --ns-color-border-focus: var(--ns-color-primary);
  
  /* --- Selection Color --- */
  --ns-color-selected: rgba(var(--ns-color-primary-rgb), 0.15);
  --ns-color-selected-hover: rgba(var(--ns-color-primary-rgb), 0.2);
  
  
  /* ============================================
     APPLE HIG - TYPOGRAPHY
     ============================================ */
  
  /* San Francisco (SF) Font */
  --ns-font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'SF Pro Display', 
                    'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
  
  /* iOS/macOS Text Styles */
  --ns-font-size-caption-2: 0.6875rem;   /* 11px */
  --ns-font-size-caption-1: 0.75rem;     /* 12px */
  --ns-font-size-footnote: 0.8125rem;    /* 13px */
  --ns-font-size-subheadline: 0.9375rem; /* 15px */
  --ns-font-size-callout: 1rem;          /* 16px */
  --ns-font-size-body: 1.0625rem;        /* 17px */
  --ns-font-size-headline: 1.0625rem;    /* 17px semibold */
  
  --ns-font-size-xs: var(--ns-font-size-caption-1);
  --ns-font-size-sm: var(--ns-font-size-footnote);
  --ns-font-size-base: var(--ns-font-size-body);
  --ns-font-size-lg: var(--ns-font-size-headline);
  
  /* SF Font Weights */
  --ns-font-weight-ultralight: 100;
  --ns-font-weight-thin: 200;
  --ns-font-weight-light: 300;
  --ns-font-weight-regular: 400;
  --ns-font-weight-medium: 500;
  --ns-font-weight-semibold: 600;
  --ns-font-weight-bold: 700;
  --ns-font-weight-heavy: 800;
  --ns-font-weight-black: 900;
  
  --ns-font-weight-normal: var(--ns-font-weight-regular);
  
  /* Line Heights (iOS/macOS standard) */
  --ns-line-height-tight: 1.2;
  --ns-line-height-normal: 1.29412;      /* ~22pt for 17pt text */
  --ns-line-height-relaxed: 1.41176;
  
  /* Letter Spacing (SF tracking) */
  --ns-letter-spacing-tight: -0.408px;   /* -0.024em */
  --ns-letter-spacing-normal: -0.374px;  /* -0.022em */
  --ns-letter-spacing-wide: 0;
  
  /* Component Typography */
  --ns-input-font-size: var(--ns-font-size-body);
  --ns-input-font-weight: var(--ns-font-weight-regular);
  --ns-input-line-height: var(--ns-line-height-normal);
  
  --ns-option-font-size: var(--ns-font-size-body);
  --ns-option-font-weight: var(--ns-font-weight-regular);
  
  --ns-label-font-size: var(--ns-font-size-footnote);
  --ns-label-font-weight: var(--ns-font-weight-regular);
  
  
  /* ============================================
     APPLE HIG - SHADOWS
     ============================================ */
  
  /* iOS/macOS Shadow Tokens */
  --ns-shadow-1: 0 1px 2px rgba(0, 0, 0, 0.04);
  --ns-shadow-2: 0 2px 8px rgba(0, 0, 0, 0.08);
  --ns-shadow-3: 0 4px 16px rgba(0, 0, 0, 0.12);
  --ns-shadow-4: 0 8px 24px rgba(0, 0, 0, 0.16);
  --ns-shadow-5: 0 16px 48px rgba(0, 0, 0, 0.24);
  
  /* Component Shadows */
  --ns-input-shadow: none;
  --ns-dropdown-shadow: 0 8px 30px rgba(0, 0, 0, 0.12), 
                        0 0 0 0.5px rgba(0, 0, 0, 0.05);
  --ns-chip-shadow: none;
  
  
  /* ============================================
     APPLE HIG - CORNER RADIUS
     ============================================ */
  
  /* iOS/macOS Corner Radius */
  --ns-corner-radius-small: 6px;
  --ns-corner-radius-medium: 8px;
  --ns-corner-radius-large: 10px;
  --ns-corner-radius-xlarge: 12px;
  --ns-corner-radius-continuous: 14px;   /* Continuous curve */
  
  /* Component Radius */
  --ns-input-radius: var(--ns-corner-radius-medium);
  --ns-dropdown-radius: var(--ns-corner-radius-large);
  --ns-chip-radius: var(--ns-corner-radius-continuous);
  --ns-option-radius: var(--ns-corner-radius-small);
  
  
  /* ============================================
     APPLE HIG - SPACING
     ============================================ */
  
  /* iOS/macOS Spacing (4pt/8pt grid) */
  --ns-spacing-2: 0.125rem;   /* 2pt */
  --ns-spacing-4: 0.25rem;    /* 4pt */
  --ns-spacing-6: 0.375rem;   /* 6pt */
  --ns-spacing-8: 0.5rem;     /* 8pt */
  --ns-spacing-12: 0.75rem;   /* 12pt */
  --ns-spacing-16: 1rem;      /* 16pt */
  --ns-spacing-20: 1.25rem;   /* 20pt */
  --ns-spacing-24: 1.5rem;    /* 24pt */
  --ns-spacing-32: 2rem;      /* 32pt */
  
  /* Component Spacing */
  --ns-input-padding-x: var(--ns-spacing-12);
  --ns-input-padding-y: var(--ns-spacing-8);
  --ns-option-padding-x: var(--ns-spacing-16);
  --ns-option-padding-y: var(--ns-spacing-8);
  --ns-chip-padding-x: var(--ns-spacing-8);
  --ns-chip-padding-y: var(--ns-spacing-4);
  
  /* Sizing (iOS/macOS standard) */
  --ns-input-height: 2.75rem;      /* 44pt - iOS touch target */
  --ns-input-height-sm: 2rem;      /* 32pt */
  --ns-input-height-lg: 3.5rem;    /* 56pt */
  
  --ns-option-height: 2.75rem;     /* 44pt - iOS touch target */
  --ns-option-height-sm: 2rem;     /* 32pt */
  
  
  /* ============================================
     APPLE HIG - ANIMATION
     ============================================ */
  
  /* Apple's spring-based animation curves */
  --ns-spring-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  --ns-spring-snappy: cubic-bezier(0.5, 0, 0.1, 1);
  --ns-spring-bouncy: cubic-bezier(0.5, 1.8, 0.9, 0.8);
  
  /* Standard easing */
  --ns-ease-in: cubic-bezier(0.42, 0, 1, 1);
  --ns-ease-out: cubic-bezier(0, 0, 0.58, 1);
  --ns-ease-in-out: cubic-bezier(0.42, 0, 0.58, 1);
  
  /* Duration (iOS standard) */
  --ns-duration-instant: 0ms;
  --ns-duration-fast: 200ms;
  --ns-duration-base: 300ms;
  --ns-duration-slow: 400ms;
  
  /* Component Transitions */
  --ns-transition-colors: color var(--ns-duration-fast) var(--ns-spring-smooth),
                          background-color var(--ns-duration-fast) var(--ns-spring-smooth),
                          border-color var(--ns-duration-fast) var(--ns-spring-smooth);
  
  --ns-transition-transform: transform var(--ns-duration-base) var(--ns-spring-snappy);
  --ns-transition-opacity: opacity var(--ns-duration-fast) var(--ns-ease-out);
  
  
  /* ============================================
     APPLE HIG - COMPONENT TOKENS
     ============================================ */
  
  /* --- Input Field (iOS/macOS style) --- */
  --ns-input-background: var(--ns-color-fill);
  --ns-input-background-hover: var(--ns-color-fill-secondary);
  --ns-input-background-focus: var(--ns-color-fill);
  --ns-input-background-disabled: var(--ns-color-fill-quaternary);
  
  --ns-input-border-color: transparent;
  --ns-input-border-color-hover: transparent;
  --ns-input-border-color-focus: var(--ns-color-primary);
  --ns-input-border-color-error: var(--ns-color-error);
  
  --ns-input-text-color: var(--ns-color-label);
  --ns-input-text-color-disabled: var(--ns-color-label-tertiary);
  --ns-input-placeholder-color: var(--ns-color-label-tertiary);
  
  /* iOS uses thin border only */
  --ns-border-width: 0.5px;
  
  /* --- Dropdown (Menu style) --- */
  --ns-dropdown-background: var(--ns-grouped-background-secondary);
  --ns-dropdown-border-color: var(--ns-color-separator-opaque);
  --ns-dropdown-backdrop: rgba(0, 0, 0, 0.3);
  
  /* --- Option (List Item) --- */
  --ns-option-background: transparent;
  --ns-option-background-hover: rgba(120, 120, 128, 0.12);
  --ns-option-background-active: rgba(120, 120, 128, 0.24);
  --ns-option-background-selected: var(--ns-color-selected);
  --ns-option-background-selected-hover: var(--ns-color-selected-hover);
  
  --ns-option-text-color: var(--ns-color-label);
  --ns-option-text-color-selected: var(--ns-color-primary);
  --ns-option-text-color-disabled: var(--ns-color-label-tertiary);
  
  /* --- Chip (Tag style) --- */
  --ns-chip-background: var(--ns-color-fill);
  --ns-chip-text-color: var(--ns-color-label);
  --ns-chip-border-color: transparent;
  --ns-chip-remove-color: var(--ns-color-label-secondary);
  --ns-chip-remove-hover-color: var(--ns-color-error);
  
  /* --- Checkbox (iOS Toggle style) --- */
  --ns-checkbox-size: 1.375rem;    /* 22pt */
  --ns-checkbox-border-color: var(--ns-color-separator);
  --ns-checkbox-background: var(--ns-color-background);
  --ns-checkbox-background-checked: var(--ns-color-primary);
  --ns-checkbox-border-radius: 6px;
  --ns-checkbox-checkmark-color: #ffffff;
  
  /* --- Focus Ring (iOS/macOS style) --- */
  --ns-focus-ring-width: 4px;
  --ns-focus-ring-offset: 2px;
  --ns-focus-ring-color: rgba(var(--ns-color-primary-rgb), 0.3);
  --ns-input-shadow-focus: 0 0 0 4px rgba(var(--ns-color-primary-rgb), 0.2);
  
  /* --- Scrollbar (macOS overlay style) --- */
  --ns-scrollbar-width: 10px;
  --ns-scrollbar-track-background: transparent;
  --ns-scrollbar-thumb-background: rgba(0, 0, 0, 0.3);
  --ns-scrollbar-thumb-hover-background: rgba(0, 0, 0, 0.5);
  --ns-scrollbar-thumb-radius: 5px;
  
  /* --- Divider --- */
  --ns-divider-color: var(--ns-color-separator);
  --ns-divider-thickness: 0.5px;
}


/* ============================================
   APPLE HIG - DARK MODE
   ============================================ */

:host([theme="apple-dark"]),
native-select[theme="apple-dark"],
:host([theme="apple"]:is(.dark, [data-theme="dark"])),
native-select[theme="apple"]:is(.dark, [data-theme="dark"]) {
  /* --- System Colors (Dark) --- */
  --ns-color-primary: #0a84ff;
  --ns-color-primary-hover: #409cff;
  --ns-color-primary-active: #0077ed;
  --ns-color-primary-rgb: 10, 132, 255;
  
  /* --- Secondary Colors (Dark) --- */
  --ns-color-secondary: #8e8e93;
  
  /* --- Semantic Colors (Dark) --- */
  --ns-color-success: #32d74b;
  --ns-color-warning: #ff9f0a;
  --ns-color-error: #ff453a;
  --ns-color-info: #64d2ff;
  
  /* --- Label Colors (Dark) --- */
  --ns-color-label: #ffffff;
  --ns-color-label-secondary: rgba(235, 235, 245, 0.6);
  --ns-color-label-tertiary: rgba(235, 235, 245, 0.3);
  --ns-color-label-quaternary: rgba(235, 235, 245, 0.18);
  
  --ns-color-text-primary: var(--ns-color-label);
  --ns-color-text-secondary: var(--ns-color-label-secondary);
  --ns-color-text-tertiary: var(--ns-color-label-tertiary);
  --ns-color-text-disabled: var(--ns-color-label-quaternary);
  
  /* --- Fill Colors (Dark) --- */
  --ns-color-fill: rgba(120, 120, 128, 0.36);
  --ns-color-fill-secondary: rgba(120, 120, 128, 0.32);
  --ns-color-fill-tertiary: rgba(118, 118, 128, 0.24);
  --ns-color-fill-quaternary: rgba(116, 116, 128, 0.18);
  
  /* --- Background Colors (Dark) --- */
  --ns-color-background: #000000;
  --ns-color-background-rgb: 0, 0, 0;
  --ns-color-background-secondary: #1c1c1e;
  --ns-color-background-tertiary: #2c2c2e;
  
  --ns-color-surface: var(--ns-color-background-secondary);
  --ns-color-surface-hover: rgba(120, 120, 128, 0.18);
  --ns-color-surface-active: rgba(120, 120, 128, 0.24);
  
  /* --- Grouped Background (Dark) --- */
  --ns-grouped-background: #000000;
  --ns-grouped-background-secondary: #1c1c1e;
  --ns-grouped-background-tertiary: #2c2c2e;
  
  /* --- Separator Colors (Dark) --- */
  --ns-color-separator: rgba(84, 84, 88, 0.65);
  --ns-color-separator-opaque: #38383a;
  
  --ns-color-border: var(--ns-color-separator);
  --ns-color-border-hover: rgba(84, 84, 88, 0.8);
  
  /* --- Shadows (Dark - more prominent) --- */
  --ns-shadow-1: 0 1px 2px rgba(0, 0, 0, 0.3);
  --ns-shadow-2: 0 2px 8px rgba(0, 0, 0, 0.4);
  --ns-shadow-3: 0 4px 16px rgba(0, 0, 0, 0.5);
  --ns-shadow-4: 0 8px 24px rgba(0, 0, 0, 0.6);
  --ns-shadow-5: 0 16px 48px rgba(0, 0, 0, 0.7);
  
  --ns-dropdown-shadow: 0 8px 30px rgba(0, 0, 0, 0.6), 
                        0 0 0 0.5px rgba(255, 255, 255, 0.1);
  
  /* --- Scrollbar (Dark) --- */
  --ns-scrollbar-thumb-background: rgba(255, 255, 255, 0.3);
  --ns-scrollbar-thumb-hover-background: rgba(255, 255, 255, 0.5);
}


/* ============================================
   APPLE HIG - ACCESSIBILITY
   ============================================ */

/* Increased contrast mode */
@media (prefers-contrast: more) {
  :host([theme="apple"]),
  native-select[theme="apple"] {
    --ns-color-label-secondary: rgba(60, 60, 67, 0.8);
    --ns-color-label-tertiary: rgba(60, 60, 67, 0.5);
    --ns-border-width: 1px;
    --ns-focus-ring-width: 5px;
  }
}

/* Reduced transparency */
@media (prefers-reduced-transparency: reduce) {
  :host([theme="apple"]),
  native-select[theme="apple"] {
    --ns-color-fill: #e5e5ea;
    --ns-color-fill-secondary: #d1d1d6;
    --ns-color-fill-tertiary: #c7c7cc;
    --ns-dropdown-backdrop: rgba(0, 0, 0, 0.5);
  }
  
  :host([theme="apple-dark"]),
  native-select[theme="apple-dark"] {
    --ns-color-fill: #48484a;
    --ns-color-fill-secondary: #3a3a3c;
    --ns-color-fill-tertiary: #2c2c2e;
  }
}
